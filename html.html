<head>
  <title>Kids Money Money Money</title>
</head>

<body class="container">
  <div class="row">
    <div class="col-sm-12">
      <h1>Kids Allowance</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12 col-md-6">
      {{> loginButtons}}
      {{> clients}}
    </div>
  </div>
</body>

<template name="clients">
  <table class="table table-striped">
    <thead>
      <th>Name</th>
      <th>Money</th>
      {{#if isAdmin}}
      <th>Actions</th>
      {{/if}}
    </thead>
    <tbody>
      {{#each clients}}
        {{ >client }}
      {{/each}}
    </tbody>
  </table>

  <hr>

  {{ >addNew }}
  {{ >editClient }}
</template>

<template name="client">
  <tr id="client-{{_id}}">
    <td class="name-holder hide-when-edit">{{name}}</td>
    <td class="money-holder hide-when-edit">{{money}}</td>
    {{#if isAdmin}}
    <td>
      <button class="btn btn-primary edit">Edit</button>
      <button class="btn btn-danger delete">Delete</button>
    </td>
    {{/if}}
  </tr>
</template>

<template name="addNew">
  {{#if isAdmin}}
  <button id="show-add-new-client-form" class="btn btn-primary">Add Another</button>
  <form id="add-new-client" style="display:none;">
    <label for="name">Name:</label> <input type="text" id="name" name="name" placeholder="Enter a Name">
    <label for="money">Money:</label> <input type="text" id="money" name="money" placeholder="$$Blinggage">
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
  {{/if}}
</template>

<template name="editClient">
  {{#if isAdmin}}
  <form id="edit-client" style="display:none;">
    <input type="hidden" name="clientId" value="">
    <input type="text" name="newname" value="">
    <input type="text" name="newmoney" value="">
    <button type="submit">Submit</button>
  </form>
  {{/if}}
</template>
